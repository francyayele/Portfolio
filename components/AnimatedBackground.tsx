import { motion } from 'framer-motion';

interface StarProps {
  top: number;
  left: number;
  delay?: number;
}

const Star: React.FC<StarProps> = ({ top, left, delay = 0 }) => (
  <motion.div
    className="absolute w-1 h-1 bg-blue-400 rounded-full"
    style={{ top: `${top}%`, left: `${left}%` }}
    animate={{
      opacity: [0.2, 0.8, 0.2],
      scale: [1, 1.2, 1],
    }}
    transition={{
      duration: 2,
      delay,
      repeat: Infinity,
      ease: "easeInOut"
    }}
  />
);

const AnimatedBackground = () => {
  return (
    <div className="fixed inset-0 -z-10 bg-[#0B1340] overflow-hidden">
      <div className="absolute inset-0">
        {/* Stars */}
        {[...Array(15)].map((_, i) => (
          <Star
            key={i}
            top={10 + Math.random() * 60}
            left={20 + Math.random() * 60}
            delay={Math.random() * 2}
          />
        ))}
        
        {/* Waves */}
        <svg
          className="absolute bottom-0 w-full h-64"
          preserveAspectRatio="none"
          viewBox="0 0 1440 320"
          xmlns="http://www.w3.org/2000/svg"
        >
          <motion.path
            initial={{ d: "M0,160L48,165.3C96,171,192,181,288,181.3C384,181,480,171,576,165.3C672,160,768,160,864,165.3C960,171,1056,181,1152,176C1248,171,1344,150,1392,140L1440,130L1440,320L1392,320C1344,320,1248,320,1152,320C1056,320,960,320,864,320C768,320,672,320,576,320C480,320,384,320,288,320C192,320,96,320,48,320L0,320Z" }}
            animate={{
              d: [
                "M0,160L48,165.3C96,171,192,181,288,181.3C384,181,480,171,576,165.3C672,160,768,160,864,165.3C960,171,1056,181,1152,176C1248,171,1344,150,1392,140L1440,130L1440,320L1392,320C1344,320,1248,320,1152,320C1056,320,960,320,864,320C768,320,672,320,576,320C480,320,384,320,288,320C192,320,96,320,48,320L0,320Z",
                "M0,180L48,171.3C96,163,192,145,288,149.3C384,154,480,181,576,186.7C672,192,768,176,864,170.7C960,165,1056,171,1152,170.7C1248,171,1344,165,1392,162.7L1440,160L1440,320L1392,320C1344,320,1248,320,1152,320C1056,320,960,320,864,320C768,320,672,320,576,320C480,320,384,320,288,320C192,320,96,320,48,320L0,320Z"
              ]
            }}
            transition={{
              duration: 8,
              repeat: Infinity,
              repeatType: "reverse",
              ease: "easeInOut"
            }}
            fill="rgba(56, 116, 255, 0.15)"
          />
          <motion.path
            initial={{ d: "M0,220L48,213.3C96,207,192,193,288,192C384,191,480,203,576,208C672,213,768,213,864,202.7C960,192,1056,171,1152,165.3C1248,160,1344,171,1392,176L1440,181L1440,320L1392,320C1344,320,1248,320,1152,320C1056,320,960,320,864,320C768,320,672,320,576,320C480,320,384,320,288,320C192,320,96,320,48,320L0,320Z" }}
            animate={{
              d: [
                "M0,220L48,213.3C96,207,192,193,288,192C384,191,480,203,576,208C672,213,768,213,864,202.7C960,192,1056,171,1152,165.3C1248,160,1344,171,1392,176L1440,181L1440,320L1392,320C1344,320,1248,320,1152,320C1056,320,960,320,864,320C768,320,672,320,576,320C480,320,384,320,288,320C192,320,96,320,48,320L0,320Z",
                "M0,240L48,234.7C96,229,192,219,288,213.3C384,208,480,208,576,213.3C672,219,768,229,864,229.3C960,229,1056,219,1152,213.3C1248,208,1344,208,1392,208L1440,208L1440,320L1392,320C1344,320,1248,320,1152,320C1056,320,960,320,864,320C768,320,672,320,576,320C480,320,384,320,288,320C192,320,96,320,48,320L0,320Z"
              ]
            }}
            transition={{
              duration: 8,
              repeat: Infinity,
              repeatType: "reverse",
              ease: "easeInOut",
              delay: 0.5
            }}
            fill="rgba(56, 116, 255, 0.2)"
          />
        </svg>
      </div>
    </div>
  );
};

export default AnimatedBackground;
